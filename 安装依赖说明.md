# 安装依赖说明

## 问题
运行程序时出现 `ModuleNotFoundError: No module named 'httpx'` 错误，这是因为缺少项目依赖包。

## 解决方案

### 方式一：使用虚拟环境（推荐）

1. **安装 python3-venv 包**（需要 sudo 权限）：
   ```bash
   sudo apt update
   sudo apt install python3.12-venv python3-pip -y
   ```

2. **创建虚拟环境**：
   ```bash
   cd /home/ubuntu/tiktok/TikTokDownloader
   python3 -m venv venv
   ```

3. **激活虚拟环境**：
   ```bash
   source venv/bin/activate
   ```

4. **安装依赖**：
   ```bash
   pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
   ```

5. **运行程序**（在虚拟环境中）：
   ```bash
   python3 main.py
   ```

### 方式二：使用 --break-system-packages（不推荐，但快速）

如果无法使用 sudo 或不想创建虚拟环境，可以使用：

```bash
cd /home/ubuntu/tiktok/TikTokDownloader
python3 -m pip install --break-system-packages -i https://pypi.tuna.tsinghua.edu.cn/simple -r requirements.txt
```

然后运行：
```bash
python3 main.py
```

### 方式三：使用系统包管理器（部分依赖）

部分依赖可以通过 apt 安装：
```bash
sudo apt install python3-httpx python3-rich python3-fastapi -y
```

但这种方式可能无法安装所有依赖，建议使用方式一。

## 验证安装

安装完成后，可以验证：
```bash
python3 -c "import httpx; print('httpx installed successfully')"
```

## 注意事项

- 如果使用虚拟环境，每次运行程序前都需要先激活虚拟环境：`source venv/bin/activate`
- 虚拟环境创建后，依赖包只安装在虚拟环境中，不会影响系统 Python 环境
- 使用虚拟环境是 Python 项目的最佳实践

